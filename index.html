<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Об'єднання мода з перекладом</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
  <h1>Об'єднати мод з перекладом</h1>

  <p>Завантажте мод (.jar) і файл перекладу (json):</p>
  <input type="file" id="modFile" accept=".jar,.zip"><br><br>
  <input type="file" id="jsonFile" accept=".json"><br><br>
  <button id="mergeBtn">Об'єднати</button>

  <script>
    document.getElementById("mergeBtn").onclick = async () => {
      const modFile = document.getElementById("modFile").files[0];
      const jsonFile = document.getElementById("jsonFile").files[0];
      if (!modFile || !jsonFile) {
        alert("Будь ласка, завантажте обидва файли!");
        return;
      }

      const zip = new JSZip();
      const modData = await modFile.arrayBuffer();
      await zip.loadAsync(modData);

      const jsonData = await jsonFile.text();

      // ⚡ шлях треба підлаштувати під структуру мода
      zip.file("assets/mymod/lang/uk_ua.json", jsonData);

      const newJar = await zip.generateAsync({ type: "blob" });

      // створюємо посилання для скачування
      const a = document.createElement("a");
      a.href = URL.createObjectURL(newJar);
      a.download = "mod_with_ukrainian.jar";
      a.click();
    };
  </script>
</body>
</html>
